webpackJsonp([1],{"/6fR":function(t,e){},"0hbJ":function(t,e){},"2odP":function(t,e){},"4o9C":function(t,e){},7670:function(t,e){},"7jfT":function(t,e){},"BCk+":function(t,e){},DONj:function(t,e){},EANg:function(t,e){},EHRS:function(t,e){},Hw6T:function(t,e){},I4ZZ:function(t,e){},K5UU:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),r=a("Dd8w"),n=a.n(r),o=a("e7x4"),i=a.n(o),c={swal:i.a,errorPopup:function(t,e,a){c.__showPopup({title:t,type:"error",text:e},a)},successPopup:function(t,e,a){c.__showPopup({title:t,type:"success",text:e},a)},warningPopup:function(t,e,a){c.__showPopup({title:t,type:"warning",text:e,showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",reverseButtons:!0},a)},loadingPopup:function(){c.swal({html:'\n      <div class="lds-css ng-scope">\n      <div style="width:100%;height:100%;margin: 0 auto;" class="lds-ellipsis">\n      <div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div></div><style type="text/css">@keyframes lds-ellipsis3 {\n        0%, 25% {\n          left: 32px;\n          -webkit-transform: scale(0);\n          transform: scale(0);\n        }\n        50% {\n          left: 32px;\n          -webkit-transform: scale(1);\n          transform: scale(1);\n        }\n        75% {\n          left: 100px;\n        }\n        100% {\n          left: 168px;\n          -webkit-transform: scale(1);\n          transform: scale(1);\n        }\n      }\n      @-webkit-keyframes lds-ellipsis3 {\n        0%, 25% {\n          left: 32px;\n          -webkit-transform: scale(0);\n          transform: scale(0);\n        }\n        50% {\n          left: 32px;\n          -webkit-transform: scale(1);\n          transform: scale(1);\n        }\n        75% {\n          left: 100px;\n        }\n        100% {\n          left: 168px;\n          -webkit-transform: scale(1);\n          transform: scale(1);\n        }\n      }\n      @keyframes lds-ellipsis2 {\n        0% {\n          -webkit-transform: scale(1);\n          transform: scale(1);\n        }\n        25%, 100% {\n          -webkit-transform: scale(0);\n          transform: scale(0);\n        }\n      }\n      @-webkit-keyframes lds-ellipsis2 {\n        0% {\n          -webkit-transform: scale(1);\n          transform: scale(1);\n        }\n        25%, 100% {\n          -webkit-transform: scale(0);\n          transform: scale(0);\n        }\n      }\n      @keyframes lds-ellipsis {\n        0% {\n          left: 32px;\n          -webkit-transform: scale(0);\n          transform: scale(0);\n        }\n        25% {\n          left: 32px;\n          -webkit-transform: scale(1);\n          transform: scale(1);\n        }\n        50% {\n          left: 100px;\n        }\n        75% {\n          left: 168px;\n          -webkit-transform: scale(1);\n          transform: scale(1);\n        }\n        100% {\n          left: 168px;\n          -webkit-transform: scale(0);\n          transform: scale(0);\n        }\n      }\n      @-webkit-keyframes lds-ellipsis {\n        0% {\n          left: 32px;\n          -webkit-transform: scale(0);\n          transform: scale(0);\n        }\n        25% {\n          left: 32px;\n          -webkit-transform: scale(1);\n          transform: scale(1);\n        }\n        50% {\n          left: 100px;\n        }\n        75% {\n          left: 168px;\n          -webkit-transform: scale(1);\n          transform: scale(1);\n        }\n        100% {\n          left: 168px;\n          -webkit-transform: scale(0);\n          transform: scale(0);\n        }\n      }\n      .lds-ellipsis {\n        position: relative;\n      }\n      .lds-ellipsis > div {\n        position: absolute;\n        -webkit-transform: translate(-50%, -50%);\n        transform: translate(-50%, -50%);\n        width: 40px;\n        height: 40px;\n      }\n      .lds-ellipsis div > div {\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n        background: #f00;\n        position: absolute;\n        top: 100px;\n        left: 32px;\n        -webkit-animation: lds-ellipsis 3.3s cubic-bezier(0, 0.5, 0.5, 1) infinite forwards;\n        animation: lds-ellipsis 3.3s cubic-bezier(0, 0.5, 0.5, 1) infinite forwards;\n      }\n      .lds-ellipsis div:nth-child(1) div {\n        -webkit-animation: lds-ellipsis2 3.3s cubic-bezier(0, 0.5, 0.5, 1) infinite forwards;\n        animation: lds-ellipsis2 3.3s cubic-bezier(0, 0.5, 0.5, 1) infinite forwards;\n        background: #3b4368;\n      }\n      .lds-ellipsis div:nth-child(2) div {\n        -webkit-animation-delay: -1.65s;\n        animation-delay: -1.65s;\n        background: #5e6fa3;\n      }\n      .lds-ellipsis div:nth-child(3) div {\n        -webkit-animation-delay: -0.825s;\n        animation-delay: -0.825s;\n        background: #689cc5;\n      }\n      .lds-ellipsis div:nth-child(4) div {\n        -webkit-animation-delay: 0s;\n        animation-delay: 0s;\n        background: #93dbe9;\n      }\n      .lds-ellipsis div:nth-child(5) div {\n        -webkit-animation: lds-ellipsis3 3.3s cubic-bezier(0, 0.5, 0.5, 1) infinite forwards;\n        animation: lds-ellipsis3 3.3s cubic-bezier(0, 0.5, 0.5, 1) infinite forwards;\n        background: #3b4368;\n      }\n      .lds-ellipsis {\n        width: 125px !important;\n        height: 125px !important;\n        -webkit-transform: translate(-62.5px, -62.5px) scale(0.625) translate(62.5px, 62.5px);\n        transform: translate(-62.5px, -62.5px) scale(0.625) translate(62.5px, 62.5px);\n      }\n      </style></div>\n      ',showConfirmButton:!1,allowOutsideClick:!1})},__showPopup:function(t,e){e?i()(t).then(e):i()(t)}},u=c,l=a("NYxO"),d={name:"app-header",data:function(){return{query:""}},computed:n()({},Object(l.b)(["allCategories"]),{current_user:function(){return this.$store.getters.currentUser}}),mounted:function(){setTimeout(function(){$(".ass1-header__menu li > a").click(function(t){$(this).parent().find(".ass1-header__nav").slideToggle(300,"swing")})},500)},methods:{handleLogout:function(){var t=this;u.warningPopup("Cảnh báo!","Bạn có thực sự muốn đăng xuất?",function(e){e.value&&(t.$store.dispatch("logout"),t.$router.push("/"))})},handleSubmit:function(t){t.preventDefault(),""!=this.query&&this.$router.push({name:"search-post",params:{query:this.query}})},stringToURL:function(t){for(var e=["aAeEoOuUiIdDyY-","áàạảãâấầậẩẫăắằặẳẵ","ÁÀẠẢÃÂẤẦẬẨẪĂẮẰẶẲẴ","éèẹẻẽêếềệểễ","ÉÈẸẺẼÊẾỀỆỂỄ","óòọỏõôốồộổỗơớờợởỡ","ÓÒỌỎÕÔỐỒỘỔỖƠỚỜỢỞỠ","úùụủũưứừựửữ","ÚÙỤỦŨƯỨỪỰỬỮ","íìịỉĩ","ÍÌỊỈĨ","đ","Đ","ýỳỵỷỹ","ÝỲỴỶỸ"," "],a=function(t,e,a){return t.split(e).join(a)},s=1;s<e.length;s++)for(var r=0;r<e[s].length;r++)t=a(t,e[s][r],e[0][s-1]);return t.toLowerCase()},handleClickLink:function(){console.log("test"),$(".ass1-header__nav").hide()}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[a("div",{staticClass:"ass1-header"},[a("div",{staticClass:"container"},[a("router-link",{staticClass:"ass1-logo",attrs:{to:"/"}},[t._v("\n\t\t\t\t\tHCMUTvn\n\t\t\t\t")]),t._v(" "),a("nav",[a("ul",{staticClass:"ass1-header__menu"},[a("li",[a("a",{attrs:{href:"javascript:void(0)"}},[t._v("Danh mục")]),t._v(" "),a("div",{staticClass:"ass1-header__nav",staticStyle:{display:"none"}},[a("div",{staticClass:"container"},[a("ul",t._l(t.allCategories,function(e){return a("li",{key:e.id,on:{click:function(e){t.handleClickLink()}}},[a("router-link",{attrs:{to:{name:"categories",params:{text:t.stringToURL(e.text),id:e.id}}}},[t._v(t._s(e.text))])],1)}))]),t._v(" "),a("div",{staticClass:"ass1-header__menu-transition"})])]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{staticClass:"ass1-header__search"},[a("form",{on:{submit:function(e){t.handleSubmit(e)}}},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.query,expression:"query",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"search",name:"search-text",placeholder:"Nhập từ khóa ..."},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),a("i",{staticClass:"icon-Search"})])])]),t._v(" "),a("router-link",{staticClass:"ass1-header__btn-upload ass1-btn",attrs:{to:"/upload"}},[a("i",{staticClass:"icon-Upvote"}),t._v(" Upload\n\t\t\t\t")]),t._v(" "),t.current_user?t._e():a("router-link",{staticClass:"ass1-header__btn-upload ass1-btn",attrs:{to:"/login"}},[t._v("\n\t\t\t\t\tLogin\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"wrapper-user"},[t.current_user?a("router-link",{staticClass:"user-header",attrs:{to:{name:"user-detail",params:{userid:t.current_user.USERID}}}},[a("span",{staticClass:"avatar"},[a("img",{attrs:{src:t.current_user.profilepicture||"static/images/default-avatar.png",alt:"avatar"}})]),t._v(" "),a("span",{staticClass:"email"},[t._v(t._s(t.current_user.email))])]):t._e(),t._v(" "),a("div",{staticClass:"logout",on:{click:t.handleLogout}},[t._v("Logout")])],1)],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"active"},[a("a",{attrs:{href:"/"}},[t._v("Hot")]),t._v(" "),a("div",{staticClass:"ass1-header__nav",staticStyle:{display:"none"}},[a("div",{staticClass:"container"},[a("ul",[a("li",[a("a",{attrs:{href:"/"}},[t._v("Funny")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/"}},[t._v("Animals")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/"}},[t._v("Anime & Mâng")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/"}},[t._v("Awesome")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/"}},[t._v("Basketball")])])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"/"}},[t._v("Car")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/"}},[t._v("Comic")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/"}},[t._v("Cosplay")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/"}},[t._v("Countryballs")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/"}},[t._v("Classical Art Memes")])])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"/"}},[t._v("Girl")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/"}},[t._v("History")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/"}},[t._v("K-POP")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/"}},[t._v("V-POP")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/"}},[t._v("Pokémon")])])]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"/"}},[t._v("School")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/"}},[t._v("Star war")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/"}},[t._v("Coder")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/"}},[t._v("Travel")])]),t._v(" "),a("li",[a("a",{attrs:{href:"/"}},[t._v("Sport")])])])]),t._v(" "),a("div",{staticClass:"ass1-header__menu-transition"})])])}]};var h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("footer",[e("div",{staticClass:"ass1-footer"},[e("div",{staticClass:"container"},[e("p",{staticClass:"text-center"},[this._v("Cộng đồng chế ảnh HCMUT.vn")])])])])}]};var m={name:"App",components:{AppHeader:a("VU/8")(d,p,!1,function(t){a("BCk+")},"data-v-1e29fe6b",null).exports,AppFooter:a("VU/8")({name:"app-footer",data:function(){return{}}},h,!1,function(t){a("Hw6T")},null,null).exports},data:function(){return{showMainHeader:!0,showMainFooter:!1}},watch:{$route:function(t,e){this.enableFooter()}},mounted:function(){this.enableFooter()},methods:{disableMainHeader:function(){var t=this.$route.name;-1!=["login","register"].indexOf(t)?this.showMainHeader=!1:this.showMainHeader=!0},enableFooter:function(){var t=this.$route.name;-1!=["login","register","change-password","edit-profile"].indexOf(t)?this.showMainFooter=!0:this.showMainFooter=!1}}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[this.showMainHeader?e("app-header"):this._e(),this._v(" "),e("main",[e("div",{staticClass:"container"},[e("transition",{attrs:{name:"fade"}},[e("router-view")],1)],1)]),this._v(" "),this.showMainFooter?e("app-footer"):this._e()],1)},staticRenderFns:[]};var f=a("VU/8")(m,v,!1,function(t){a("I4ZZ")},null,null).exports,g=a("/ocq"),_=a("Xxa5"),b=a.n(_),w=a("Gu7T"),k=a.n(w),C=a("exGp"),x=a.n(C),P={name:"post-block",props:{post:{type:Object,required:!0},classColumn:{type:String,default:"col-lg-6"}},data:function(){return{routerName:this.$route.name,query:null}},watch:{$route:function(t,e){"search-post"===t.name?this.query=t.params.query:this.query=null}},created:function(){"search-post"===this.routerName?this.query=this.$route.params.query:this.query=null},methods:{setTimeAgo:function(t){var e=new Date;e=new Date(e),this.timeAgo=e.getTime();var a=(this.timeAgo-t)/1e3,s="";if(a>=0&&a<1)return"Vừa xong";if(a<=60){var r=" giây ";s=Math.floor(a).toString()+r+"trước"}else if(a<=3600){r=" phút ";s=Math.floor(a/60).toString()+r+"trước"}else if(a<=86400){r=" giờ ";s=Math.floor(a/3600).toString()+r+"trước"}else{r=" ngày ";s=Math.floor(a/86400).toString()+r+"trước"}return s},formatContent:function(t){var e=this.query.toLowerCase();return(t=t.toLowerCase()).replace(e,'<span class="highlight">'+e+"</span>")}},computed:{dateFormat:function(){var t=new Date(this.post.time_added);return t=new Date(t).getTime(),this.setTimeAgo(t)}}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:"ass1-section__item "+t.classColumn},[a("div",{staticClass:"ass1-section"},[a("div",{staticClass:"ass1-section__head"},[a("router-link",{staticClass:"ass1-section__avatar ass1-avatar",attrs:{to:{name:"user-detail",params:{userid:t.post.USERID}}}},[a("img",{attrs:{src:t.post.profilepicture||"static/images/default-avatar.png",alt:"author"}})]),t._v(" "),a("div",[a("router-link",{staticClass:"ass1-section__name",attrs:{to:{name:"user-detail",params:{userid:t.post.USERID}}}},[null===t.query?a("span",[t._v(t._s(t.post.fullname))]):t._e(),t._v(" "),null!==t.query?a("span",{domProps:{innerHTML:t._s(t.formatContent(t.post.fullname))}}):t._e()]),t._v(" "),a("span",{staticClass:"ass1-section__passed"},[t._v(t._s(t.dateFormat))])],1)],1),t._v(" "),a("div",{staticClass:"ass1-section__content"},[null===t.query?a("p",[t._v(t._s(t.post.post_content))]):t._e(),t._v(" "),null!==t.query?a("p",{domProps:{innerHTML:t._s(t.formatContent(t.post.post_content))}}):t._e(),t._v(" "),a("router-link",{staticClass:"ass1-section__btn-upvote ass1-btn-icon",attrs:{to:{name:"post-detail",params:{id:t.post.PID}}}},[t._v("Xem thêm")]),t._v(" "),a("div",{staticClass:"ass1-section__image"},[a("router-link",{attrs:{to:{name:"post-detail",params:{id:t.post.PID}}}},[a("img",{attrs:{src:t.post.url_image,alt:""}})])],1)],1),t._v(" "),a("div",{staticClass:"ass1-section__footer"},[a("a",{staticClass:"ass1-section__btn-comment ass1-btn-icon",attrs:{href:"#"}},[a("i",{staticClass:"icon-Comment_Full"}),a("span",[t._v(t._s(t.post.count||0))])])])])])},staticRenderFns:[]};var U={name:"posts-list",components:{PostBlock:a("VU/8")(P,y,!1,function(t){a("nd5D"),a("mUUq")},"data-v-7d966952",null).exports},props:{postList:{type:Array,required:!0},styleComp:{type:Boolean,required:!1,default:!0}},data:function(){return{}},mounted:function(){}},L={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.styleComp?a("div",{directives:[{name:"masonry",rawName:"v-masonry"}],staticClass:"ass1-section__wrap row ass1-section__isotope-init",attrs:{"transition-duration":"0.3s","item-selector":".ass1-section__item","column-width":".grid-sizer"}},[a("div",{staticClass:"grid-sizer"}),t._v(" "),t._l(t.postList,function(t,e){return a("post-block",{directives:[{name:"masonry-tile",rawName:"v-masonry-tile"}],key:e,attrs:{post:t}})})],2):t._e(),t._v(" "),t.styleComp?t._e():a("div",{staticClass:"row"},t._l(t.postList,function(t,e){return a("post-block",{key:e,attrs:{classColumn:"col-lg-12",post:t}})}))])},staticRenderFns:[]};var D=a("VU/8")(U,L,!1,function(t){a("b7aU")},null,null).exports,S=a("M4fF"),I=a.n(S),R={name:"Homepage",components:{PostsList:D},data:function(){return{postList:[],currentPage:0,pageSize:3,recentlyPost:[],loading:!1,init:!0}},created:function(){this.fetchDataSearch(),this.fetchDataRecentlyPosts()},computed:n()({classLoader:function(){return{loading:this.loading}}},Object(l.b)(["isAuthenticated"])),methods:{fetchDataSearch:function(){var t=this;return x()(b.a.mark(function e(){var a,s,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.init&&u.loadingPopup(),t.loading=!0,t.currentPage=t.currentPage+1,a={currentPage:t.currentPage,pageSize:t.pageSize},e.next=6,t.$store.dispatch("getListPostPagination",a);case 6:(s=e.sent).ok?(r=[].concat(k()(t.postList),k()(s.body)),t.postList=r,t.loading=!1):t.loading=!1,t.init&&(t.init=!1,u.swal.close());case 9:case"end":return e.stop()}},e,t)}))()},fetchDataRecentlyPosts:function(){var t=this;this.recentlyPost=[];var e=this.$store.getters.currentIDUser;e&&this.$store.dispatch("getListPostByUserID",e).then(function(e){e.ok?t.recentlyPost=e.body.slice(0,3):401==e.error.response.status&&t.$store.dispatch("disableUser")})},loadNextPage:function(){this.fetchDataSearch()}}},T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"ass1-content-head"}),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-8"},[0!=t.postList.length?a("div",[a("posts-list",{attrs:{styleComp:!1,postList:t.postList}}),t._v(" "),a("button",{staticClass:"load-more ass1-btn",class:t.classLoader,on:{click:t.loadNextPage}},[a("span",[t._v("Xem thêm")]),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{src:"/static/loader.gif",alt:"loader"}})])],1):t._e()]),t._v(" "),a("div",{staticClass:"d-none d-lg-block col-lg-4"},[t._m(0),t._v(" "),t.isAuthenticated?t._e():a("div",[t._v("\n          Vui lòng đăng nhập để xem mục này "),a("router-link",{attrs:{to:"/login"}},[t._v("Đăng nhập")])],1),t._v(" "),t.isAuthenticated?a("posts-list",{attrs:{styleComp:!1,postList:t.recentlyPost}}):t._e()],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ass1-content-head__t"},[e("div",[this._v("Bài viết gần đây của bạn.")])])}]};var A=a("VU/8")(R,T,!1,function(t){a("hszl")},"data-v-69dec504",null).exports,E={name:"search-list",components:{PostsList:D},data:function(){return{query:this.$route.params.query,postList:[]}},watch:{$route:function(t,e){this.query=this.$route.params.query,this.fetchDataSearch()}},created:function(){this.fetchDataSearch()},methods:{fetchDataSearch:function(){var t=this;return x()(b.a.mark(function e(){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.loadingPopup(),t.postList=[],e.next=4,t.$store.dispatch("searchPost",t.query);case 4:(a=e.sent).ok&&(t.postList=a.body),u.swal.close();case 7:case"end":return e.stop()}},e,t)}))()}}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"ass1-content-head"}),t._v(" "),0==t.postList.length?a("h3",{staticClass:"result-query"},[t._v("Không tìm thấy dữ liệu nào phù hợp với '"+t._s(t.query)+"'")]):t._e(),t._v(" "),0!=t.postList.length?a("h3",{staticClass:"result-query"},[a("span",[t._v("("+t._s(t.postList.length)+")")]),t._v(" Kết quả: Cho '"+t._s(t.query)+"'")]):t._e(),t._v(" "),a("posts-list",{attrs:{postList:t.postList}})],1)},staticRenderFns:[]};var N=a("VU/8")(E,F,!1,function(t){a("/6fR")},"data-v-8bd24e0e",null).exports,B={name:"login",data:function(){return{data:{email:"",password:""}}},methods:{handleLogin:function(t){var e=this;return x()(b.a.mark(function a(){var s;return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),u.loadingPopup(),a.next=4,e.$store.dispatch("login",e.data);case 4:s=a.sent,u.swal.close(),s.ok?u.successPopup("Success!","Đăng nhập thành công, quay lại trang chủ",function(t){e.$router.push({path:"/"})}):u.errorPopup("Error!",s.error);case 7:case"end":return a.stop()}},a,e)}))()}}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ass1-login"},[a("div",{staticClass:"ass1-login__logo"},[a("router-link",{staticClass:"ass1-logo",attrs:{to:"/"}},[t._v("Nhóm XX")])],1),t._v(" "),a("div",{staticClass:"ass1-login__content"},[a("p",[t._v("Đăng nhập")]),t._v(" "),a("div",{staticClass:"ass1-login__form"},[a("form",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.email,expression:"data.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Email"},domProps:{value:t.data.email},on:{input:function(e){e.target.composing||t.$set(t.data,"email",e.target.value)}}}),t._v(" "),a("div",{staticClass:"ass1-input-copy"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.password,expression:"data.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Mật khẩu"},domProps:{value:t.data.password},on:{input:function(e){e.target.composing||t.$set(t.data,"password",e.target.value)}}}),t._v(" "),a("a",{attrs:{href:"#"}},[t._v("Copy")])]),t._v(" "),a("div",{staticClass:"ass1-login__send"},[a("router-link",{attrs:{to:"/register"}},[t._v("Đăng ký một tài khoản")]),t._v(" "),a("button",{staticClass:"ass1-btn",on:{click:function(e){return t.handleLogin(e)}}},[t._v("Đăng nhập")])],1)])])])])},staticRenderFns:[]};var j=a("VU/8")(B,M,!1,function(t){a("EHRS")},null,null).exports,q={name:"register",data:function(){return{data:{fullname:"",email:"",password:"",repassword:""},error:[]}},created:function(){},methods:{verify:function(){var t=[];this.data.password!=this.data.repassword&&t.push("Mật khẩu không khớp!"),this.data.email.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)||t.push("Email không hợp lệ!"),this.error=t},handleRegister:function(t){var e=this;return x()(b.a.mark(function a(){var s;return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),u.loadingPopup(),e.verify(),e.error.length){a.next=11;break}return a.next=6,e.$store.dispatch("register",e.data);case 6:s=a.sent,u.swal.close(),s.ok?u.successPopup("Success!","Đăng kí thành công, quay lại trang chủ",function(t){e.$router.push({path:"/"})}):u.errorPopup("Error!",s.error.message),a.next=12;break;case 11:u.swal.close();case 12:case"end":return a.stop()}},a,e)}))()}}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ass1-login"},[a("div",{staticClass:"ass1-login__logo"},[a("router-link",{staticClass:"ass1-logo",attrs:{to:"/"}},[t._v("Nhóm XX")])],1),t._v(" "),a("div",{staticClass:"ass1-login__content"},[a("p",[t._v("Đăng ký một tài khoản")]),t._v(" "),a("div",{staticClass:"ass1-login__form"},[a("form",[t.error.length?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.error.join(".")))]):t._e(),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.fullname,expression:"data.fullname"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Tên hiển thị",required:""},domProps:{value:t.data.fullname},on:{input:function(e){e.target.composing||t.$set(t.data,"fullname",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.email,expression:"data.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email",required:""},domProps:{value:t.data.email},on:{input:function(e){e.target.composing||t.$set(t.data,"email",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.password,expression:"data.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Mật khẩu",required:""},domProps:{value:t.data.password},on:{input:function(e){e.target.composing||t.$set(t.data,"password",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.repassword,expression:"data.repassword"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Nhập lại mật khẩu",required:""},domProps:{value:t.data.repassword},on:{input:function(e){e.target.composing||t.$set(t.data,"repassword",e.target.value)}}}),t._v(" "),a("div",{staticClass:"ass1-login__send"},[a("router-link",{attrs:{to:"/login"}},[t._v("Đăng nhập")]),t._v(" "),a("button",{staticClass:"ass1-btn",on:{click:function(e){return t.handleRegister(e)}}},[t._v("Đăng ký")])],1)])])])])},staticRenderFns:[]};var V=a("VU/8")(q,z,!1,function(t){a("K5UU")},null,null).exports,O={name:"change-pass",data:function(){return{oldPassword:"",newPassword:"",reNewPassword:""}},created:function(){},methods:{handleChangePassword:function(t){var e=this;t.preventDefault(),u.loadingPopup();var a={oldPassword:this.oldPassword,newPassword:this.newPassword,reNewPassword:this.reNewPassword};this.$store.dispatch("changePassword",a).then(function(t){u.swal.close(),t.ok?(u.successPopup("Thành công!",t.body.message),e.oldPassword="",e.newPassword="",e.reNewPassword=""):I.a.isObject(t.error)?u.errorPopup("Thất bại!",t.error.message):u.errorPopup("Thất bại!",t.error)})}}},H={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ass1-login"},[a("div",{staticClass:"ass1-login__content"},[a("p",[t._v("Đổi mật khẩu")]),t._v(" "),a("div",{staticClass:"ass1-login__form"},[a("form",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPassword,expression:"oldPassword"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Mật khẩu cũ"},domProps:{value:t.oldPassword},on:{input:function(e){e.target.composing||(t.oldPassword=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Mật khẩu mới"},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.reNewPassword,expression:"reNewPassword"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Xác nhận mật khẩu mới"},domProps:{value:t.reNewPassword},on:{input:function(e){e.target.composing||(t.reNewPassword=e.target.value)}}}),t._v(" "),a("div",{staticClass:"ass1-login__send justify-content-center"},[a("button",{staticClass:"ass1-btn",attrs:{type:"submit"},on:{click:function(e){return t.handleChangePassword(e)}}},[t._v("Thay đổi")])])])])])])},staticRenderFns:[]};var X=a("VU/8")(O,H,!1,function(t){a("ip3W")},null,null).exports,Y={name:"list-comment",props:{comments:{type:Array,required:!0}},data:function(){return{}},methods:{setTimeAgo:function(t){t=new Date(t);t=new Date(t).getTime();var e=new Date;e=new Date(e),this.timeAgo=e.getTime();var a=(this.timeAgo-t)/1e3,s="";if(a>=0&&a<1)return"Vừa xong";if(a<=60){var r=" giây ";s=Math.floor(a).toString()+r+"trước"}else if(a<=3600){r=" phút ";s=Math.floor(a/60).toString()+r+"trước"}else if(a<=86400){r=" giờ ";s=Math.floor(a/3600).toString()+r+"trước"}else{r=" ngày ";s=Math.floor(a/86400).toString()+r+"trước"}return s}}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ass1-comments"},[a("div",{staticClass:"ass1-comments__head"},[a("div",{staticClass:"ass1-comments__title"},[t._v(t._s(t.comments.length)+" Bình luận")]),t._v(" "),t._m(0)]),t._v(" "),0!=t.comments.length?a("div",t._l(t.comments,function(e){return a("div",{key:e.CID,staticClass:"ass1-comments__section"},[a("a",{staticClass:"ass1-comments__avatar ass1-avatar",attrs:{href:"#"}},[a("img",{attrs:{src:e.profilepicture||"static/images/default-avatar.png",alt:"avatar"}})]),t._v(" "),a("div",{staticClass:"ass1-comments__content"},[a("a",{staticClass:"ass1-comments__name",attrs:{href:"#"}},[t._v(t._s(e.fullname))]),t._v(" "),a("span",{staticClass:"ass1-comments__passed"},[t._v(t._s(t.setTimeAgo(e.time_added)))]),t._v(" "),a("p",{domProps:{innerHTML:t._s(e.comment)}})])])})):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ass1-comments__options"},[e("span",[this._v("Sắp xếp theo:")]),this._v(" "),e("a",{staticClass:"ass1-comments__btn-upvote ass1-btn-icon",attrs:{href:"#"}},[e("i",{staticClass:"icon-Upvote"})]),this._v(" "),e("a",{staticClass:"ass1-comments__btn-down ass1-btn-icon",attrs:{href:"#"}},[e("i",{staticClass:"icon-Downvote"})]),this._v(" "),e("a",{staticClass:"ass1-comments__btn-expand ass1-btn-icon",attrs:{href:"#"}},[e("i",{staticClass:"icon-Expand_all"})])])}]};var G=a("VU/8")(Y,K,!1,function(t){a("0hbJ")},"data-v-e8310e2c",null).exports,Q={name:"add-comment",props:{routePostId:{type:String,required:!0}},data:function(){return{comment:"",maxLength:180}},watch:{comment:function(t,e){t.length>this.maxLength&&(this.comment=e)}},computed:n()({},Object(l.b)(["currentUser","isAuthenticated"])),methods:{handleComment:function(t){var e=this;return x()(b.a.mark(function a(){var s,r,n;return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),e.isAuthenticated||e.currentUser){a.next=4;break}return u.warningPopup("Cảnh báo!","Bạn cần đăng nhập để thực hiện tính năng này!",function(t){t.value&&e.$router.push("/login")}),a.abrupt("return");case 4:if(0==e.comment.length){a.next=12;break}return s={postid:e.routePostId,comment:e.comment},a.next=8,e.$store.dispatch("postComment",s);case 8:(r=a.sent).ok?(u.successPopup("Thành công!","Đăng bình luận thành công!"),e.comment="",e.$emit("addCommentToggle",!0)):(n="",n="string"==typeof r.error?r.error:r.error.response.data.error,u.errorPopup("Lỗi!",n)),a.next=13;break;case 12:u.warningPopup("Cảnh báo!","Chưa nhập bình luận!");case 13:case"end":return a.stop()}},a,e)}))()}}},J={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ass1-add-comment"},[a("form",{attrs:{action:"#"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"form-control ttg-border-none",attrs:{rows:"3",type:"text",placeholder:"Thêm một bình luận"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"ass1-add-comment__content"},[a("a",{staticClass:"ass1-add-comment__btn-save ass1-btn-icon",attrs:{href:"#"},on:{click:function(e){return t.handleComment(e)}}},[a("span",[t._v(t._s(t.maxLength-t.comment.length))]),t._v(" "),a("i",{staticClass:"icon-Submit_Tick"})])])])},staticRenderFns:[]};var W={name:"post-detail",components:{ListComment:G,AddComment:a("VU/8")(Q,J,!1,function(t){a("2odP")},"data-v-c18e5f24",null).exports,PostsList:D},data:function(){return{routePostId:this.$route.params.id,comments:[],dataPost:null,author:null,recentPost:[]}},watch:{$route:function(t,e){this.routePostId=t.params.id,this.fetchDataPost(),this.fetchDataComment(),this.fetchRecentPost()}},created:function(){this.fetchDataComment(),this.fetchDataPost(),this.fetchRecentPost()},computed:n()({},Object(l.b)(["isAuthenticated"]),{dateFormat:function(){if(this.dataPost){var t=new Date(this.dataPost.post.time_added);return t=new Date(t).getTime(),this.setTimeAgo(t)}return null}}),methods:{addCommentToggle:function(t){this.fetchDataComment()},fetchDataComment:function(){var t=this;this.routePostId&&(this.comments=[],this.$store.dispatch("getCommentPost",this.routePostId).then(function(e){e.ok&&(t.comments=e.body)}))},fetchDataPost:function(){var t=this;return x()(b.a.mark(function e(){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.loadingPopup(),!t.routePostId){e.next=15;break}return e.next=4,t.$store.dispatch("getPostByPostID",t.routePostId);case 4:if(!(a=e.sent).ok){e.next=12;break}return e.next=8,t.fetchDataUser(a.body.data.post.USERID);case 8:t.dataPost=a.body.data,setTimeout(function(){u.swal.close()},500),e.next=15;break;case 12:u.swal.close(),u.errorPopup("Lỗi!",a.error,function(){t.$router.push("/")}),401==a.error.response.status&&t.$store.dispatch("disableUser");case 15:case"end":return e.stop()}},e,t)}))()},fetchDataUser:function(t){var e=this;return x()(b.a.mark(function a(){var s;return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.$store.dispatch("getUserByID",t);case 2:(s=a.sent).ok?e.author=s.body:401==s.error.response.status&&e.$store.dispatch("disableUser");case 4:case"end":return a.stop()}},a,e)}))()},fetchRecentPost:function(){var t=this;return x()(b.a.mark(function e(){var a,s;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={currentPage:1,pageSize:3},t.recentPost=[],e.next=4,t.$store.dispatch("getListPostPagination",a);case 4:(s=e.sent).ok&&(t.recentPost=s.body);case 6:case"end":return e.stop()}},e,t)}))()},setTimeAgo:function(t){var e=new Date;e=new Date(e),this.timeAgo=e.getTime();var a=(this.timeAgo-t)/1e3,s="";if(a>=0&&a<1)return"Vừa xong";if(a<=60){var r=" giây ";s=Math.floor(a).toString()+r+"trước"}else if(a<=3600){r=" phút ";s=Math.floor(a/60).toString()+r+"trước"}else if(a<=86400){r=" giờ ";s=Math.floor(a/3600).toString()+r+"trước"}else{r=" ngày ";s=Math.floor(a/86400).toString()+r+"trước"}return s},stringToURL:function(t){console.log(t);for(var e=["aAeEoOuUiIdDyY-","áàạảãâấầậẩẫăắằặẳẵ","ÁÀẠẢÃÂẤẦẬẨẪĂẮẰẶẲẴ","éèẹẻẽêếềệểễ","ÉÈẸẺẼÊẾỀỆỂỄ","óòọỏõôốồộổỗơớờợởỡ","ÓÒỌỎÕÔỐỒỘỔỖƠỚỜỢỞỠ","úùụủũưứừựửữ","ÚÙỤỦŨƯỨỪỰỬỮ","íìịỉĩ","ÍÌỊỈĨ","đ","Đ","ýỳỵỷỹ","ÝỲỴỶỸ"," "],a=function(t,e,a){return t.split(e).join(a)},s=1;s<e.length;s++)for(var r=0;r<e[s].length;r++)t=a(t,e[s][r],e[0][s-1]);return t.toLowerCase()}}},Z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-8"},[t.dataPost?a("div",{staticClass:"ass1-section"},[a("div",{staticClass:"ass1-section__head"},[a("router-link",{staticClass:"ass1-section__avatar ass1-avatar",attrs:{to:{name:"user-detail",params:{userid:t.dataPost.post.USERID}}}},[a("img",{attrs:{src:t.author.profilepicture||"static/images/default-avatar.png",alt:"author"}})]),t._v(" "),t.author?a("div",[a("router-link",{staticClass:"ass1-section__name",attrs:{to:{name:"user-detail",params:{userid:t.dataPost.post.USERID}}}},[t._v(t._s(t.author.fullname))]),t._v(" "),a("span",{staticClass:"ass1-section__passed"},[t._v(t._s(t.dateFormat))])],1):t._e(),t._v(" "),a("router-link",{staticClass:"ass1-section__link ass1-btn-icon",attrs:{to:{name:"user-detail",params:{userid:t.dataPost.post.USERID}}}},[a("i",{staticClass:"icon-Link"})])],1),t._v(" "),a("div",{staticClass:"ass1-section__content"},[a("p",[t._v(t._s(t.dataPost.post.post_content))]),t._v(" "),a("div",{staticClass:"ass1-section__image"},[a("router-link",{attrs:{to:{name:"user-detail",params:{userid:t.dataPost.post.USERID}}}},[a("img",{attrs:{src:t.dataPost.post.url_image,alt:"post detail image"}})])],1)]),t._v(" "),a("div",{staticClass:"ass1-section__footer"},[t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),a("a",{staticClass:"ass1-section__btn-comment ass1-btn-icon",attrs:{href:"#"}},[a("i",{staticClass:"icon-Comment_Full"}),a("span",[t._v(t._s(t.comments.length))])])]),t._v(" "),a("div",{staticClass:"ass1-section__feeling"},[a("ul",[a("li",[t._v("Danh mục: ")]),t._v(" "),t._l(t.dataPost.categories,function(e){return a("li",{key:e.TAG_ID},[a("router-link",{attrs:{to:{name:"categories",params:{text:t.stringToURL(e.tag_value),id:e.tag_index}}}},[t._v(t._s(e.tag_value))])],1)})],2)])]):t._e(),t._v(" "),a("add-comment",{attrs:{routePostId:t.routePostId},on:{addCommentToggle:function(e){t.addCommentToggle(e)}}}),t._v(" "),a("list-comment",{attrs:{comments:t.comments}})],1),t._v(" "),a("div",{staticClass:"col-lg-4"},[a("posts-list",{attrs:{styleComp:!1,postList:t.recentPost}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ass1-content-head ass1-content-head__flex-off"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-8"}),this._v(" "),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"ass1-content-head__right-col"},[e("div",{staticClass:"ass1-content-head__text"},[e("div",[this._v("Bài Post gần đây")])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"ass1-section__btn-upvote ass1-btn-icon",attrs:{href:"#"}},[e("i",{staticClass:"icon-Upvote"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"ass1-section__btn-downvote ass1-btn-icon",attrs:{href:"#"}},[e("i",{staticClass:"icon-Downvote"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"ass1-section__btn-like ass1-btn-icon",attrs:{href:"#"}},[e("i",{staticClass:"icon-Favorite_Full"}),e("span",[this._v("0")])])}]};var tt=a("VU/8")(W,Z,!1,function(t){a("Pg/3")},"data-v-462cb32e",null).exports,et={name:"edit-profile",data:function(){return{cloneUser:null,reviewAvatar:{base64:null,objFile:null}}},methods:{onImageChange:function(t){var e=t.target.files;e.length?this.createImage(e[0]):this.reviewAvatar.objFile||u.warningPopup("Cảnh báo","Chưa chọn file!")},createImage:function(t){var e=new FileReader,a=this,s=t.type;-1!=s.indexOf("png")||-1!=s.indexOf("jpeg")||-1!=s.indexOf("jpg")?(e.onload=function(e){a.reviewAvatar.base64=e.target.result,a.reviewAvatar.objFile=t},e.readAsDataURL(t)):u.warningPopup("Cảnh báo","Hình ảnh không đúng định dạng!")},handleUpdateInfo:function(t){t.preventDefault(),u.loadingPopup(),this.$store.dispatch("updateInfoUser",{user:this.cloneUser,objImage:this.reviewAvatar.objFile}).then(function(t){setTimeout(function(){u.swal.close(),t.ok?u.successPopup("Thành công!","Cập nhật thông tin thành công"):u.errorPopup("Thất bại!",t.error)},1e3)})}},created:function(){this.cloneUser=I.a.clone(this.currentUser)},computed:n()({},Object(l.b)(["currentUser"]))},at={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ass1-login"},[a("div",{staticClass:"ass1-login__content"},[a("p",[t._v("Profile")]),t._v(" "),t.cloneUser?a("div",{staticClass:"ass1-login__form"},[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:t.reviewAvatar.base64||t.cloneUser.profilepicture||"static/images/default-avatar.png",alt:""}})]),t._v(" "),a("form",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.cloneUser.fullname,expression:"cloneUser.fullname"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Tên ...",required:""},domProps:{value:t.cloneUser.fullname},on:{input:function(e){e.target.composing||t.$set(t.cloneUser,"fullname",e.target.value)}}}),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.cloneUser.gender,expression:"cloneUser.gender"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.cloneUser,"gender",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("Giới tính")]),t._v(" "),a("option",{attrs:{value:"nam"}},[t._v("Nam")]),t._v(" "),a("option",{attrs:{value:"nu"}},[t._v("Nữ")])]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"file",accept:"image/*",name:"avatar",placeholder:"Ảnh đại diện"},on:{change:t.onImageChange}}),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.cloneUser.description,expression:"cloneUser.description"}],staticClass:"form-control",attrs:{cols:"30",rows:"5",placeholder:"Mô tả ngắn ..."},domProps:{value:t.cloneUser.description},on:{input:function(e){e.target.composing||t.$set(t.cloneUser,"description",e.target.value)}}}),t._v(" "),a("div",{staticClass:"ass1-login__send justify-content-center"},[a("button",{staticClass:"ass1-btn",on:{click:function(e){return t.handleUpdateInfo(e)}}},[t._v("Cập nhật")])])])]):t._e()])])},staticRenderFns:[]};var st=a("VU/8")(et,at,!1,function(t){a("7jfT")},null,null).exports,rt={name:"check-box",props:["index","status","labelText"],data:function(){return{randomKey:Math.round(9999*Math.random())}},methods:{onChangeSwitch:function(t){t.preventDefault(),this.$emit("onChangeSwitch",[{index:this.index}])}}},nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comp-switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],staticClass:"switch-input",attrs:{type:"checkbox",id:"id-switch-"+t.randomKey,"true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(t.status)?t._i(t.status,null)>-1:t._q(t.status,"1")},on:{change:function(e){var a=t.status,s=e.target,r=s.checked?"1":"0";if(Array.isArray(a)){var n=t._i(a,null);s.checked?n<0&&(t.status=a.concat([null])):n>-1&&(t.status=a.slice(0,n).concat(a.slice(n+1)))}else t.status=r}}}),t._v(" "),a("label",{staticClass:"switch-label",on:{click:function(e){t.onChangeSwitch(e)}}},[t._v(t._s(t.labelText))])])},staticRenderFns:[]};var ot=a("VU/8")(rt,nt,!1,function(t){a("DONj")},"data-v-81d3942c",null).exports,it={name:"manage-post",data:function(){return{postList:[]}},components:{CheckBox:ot},created:function(){this.fetchDataPosts()},methods:{fetchDataPosts:function(){var t=this;return x()(b.a.mark(function e(){var a,s;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.postList=[],a=t.currentUser.USERID,e.next=4,t.$store.dispatch("getListPostByUserID",a);case 4:(s=e.sent).ok?t.postList=s.body:(console.log(s.error.response),401==s.error.response.status&&t.$store.dispatch("disableUser"));case 6:case"end":return e.stop()}},e,t)}))()},toggleStatus:function(t){"1"===this.postList[t].status?this.postList[t].status="0":this.postList[t].status="1"},onChangeSwitch:function(t){var e,a=this,s=t[0].index,r=this.postList[s];u.warningPopup("Cảnh báo!","Bạn có muốn thay đổi trạng thái bài viết có ID là "+r.PID+" không?",(e=x()(b.a.mark(function t(e){var s;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.value){t.next=6;break}return u.loadingPopup(),t.next=4,a.$store.dispatch("toggleStatusPost",r.PID);case 4:s=t.sent,setTimeout(x()(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.swal.close(),!s.ok){t.next=8;break}return t.next=4,a.fetchDataPosts();case 4:t.sent,u.successPopup("Thành công!",s.body),t.next=9;break;case 8:"string"==typeof s.error?u.errorPopup("Lỗi!",s.error):u.errorPopup("Lỗi!",s.error.message);case 9:case"end":return t.stop()}},t,a)})),500);case 6:case"end":return t.stop()}},t,a)})),function(t){return e.apply(this,arguments)}))},formatDate:function(t){var e=new Date(t);return(e.getDate()<=9?"0"+e.getDate():e.getDate())+"/"+(e.getMonth()+1<=9?"0"+(e.getMonth()+1):e.getMonth()+1)+"/"+(e.getFullYear()<=9?"0"+e.getFullYear():e.getFullYear())+", "+(e.getHours()<=9?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<=9?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<=9?"0"+e.getSeconds():e.getSeconds())+"''"},handleDelete:function(t,e){var a,s=this;u.warningPopup("Cảnh báo!","Bạn có muốn xoá bài viết có ID là "+e+" không?",(a=x()(b.a.mark(function t(a){var r;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u.loadingPopup(),t.next=3,s.$store.dispatch("deletePostByPID",e);case 3:r=t.sent,setTimeout(x()(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.swal.close(),!r.ok){t.next=8;break}return t.next=4,s.fetchDataPosts();case 4:t.sent,u.successPopup("Thành công!",r.body),t.next=9;break;case 8:"string"==typeof r.error?u.errorPopup("Lỗi!",r.error):u.errorPopup("Lỗi!",r.error.message);case 9:case"end":return t.stop()}},t,s)})),500);case 5:case"end":return t.stop()}},t,s)})),function(t){return a.apply(this,arguments)}))},handleEdit:function(t){this.$router.push({name:"edit-post",params:{postid:t}})}},computed:n()({},Object(l.b)(["currentUser"]))},ct={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper-dashboard"},[a("h3",{staticClass:"title"},[t._v("Quản lý bài viết")]),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered table-hover"},[t._m(0),t._v(" "),a("tbody",t._l(t.postList,function(e,s){return a("tr",{key:e.PID},[a("td",{staticClass:"text-center"},[t._v(t._s(s+1))]),t._v(" "),a("td",{staticClass:"text-center"},[t._v(t._s(e.PID))]),t._v(" "),a("td",{domProps:{innerHTML:t._s(e.post_content)}}),t._v(" "),a("td",[t._v(t._s(t.formatDate(e.time_added)))]),t._v(" "),a("td",{staticClass:"text-center checkbox va-middle"},[a("check-box",{attrs:{index:s,status:e.status,labelText:""},on:{onChangeSwitch:function(e){t.onChangeSwitch(e)}}})],1),t._v(" "),a("td",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-danger",on:{click:function(a){t.handleDelete(s,e.PID)}}},[a("i",{staticClass:"fa fa-trash",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("button",{staticClass:"btn btn-primary",on:{click:function(a){t.handleEdit(e.PID)}}},[a("i",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}})])])])}))])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark text-center"},[a("tr",[a("th",{staticStyle:{width:"30px"}},[t._v("STT")]),t._v(" "),a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("Nội dung")]),t._v(" "),a("th",{staticStyle:{width:"190px"}},[t._v("Ngày đăng")]),t._v(" "),a("th",{staticStyle:{width:"110px"}},[t._v("Trạng thái")]),t._v(" "),a("th",{staticStyle:{width:"120px"}},[t._v("Hành động")])])])}]};var ut=a("VU/8")(it,ct,!1,function(t){a("7670")},"data-v-0445f046",null).exports,lt={name:"manage-user",data:function(){return{userList:[],pageSize:4,currentPage:this.$route.params.currentPage,totalPage:0}},components:{CheckBox:ot},watch:{$route:function(t,e){console.log(t),this.currentPage=t.params.currentPage,this.fetchDataUsers(this.currentPage)}},created:function(){this.checkAdmin(),this.fetchDataUsers(this.currentPage)},methods:{checkAdmin:function(){var t=this;return x()(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("checkAdmin");case 2:e.sent.ok||t.$router.push("/");case 4:case"end":return e.stop()}},e,t)}))()},fetchDataUsers:function(t){var e=this;return x()(b.a.mark(function a(){var s;return b.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.currentPage=t,s={pageSize:e.pageSize,currentPage:e.currentPage},u.loadingPopup(),setTimeout(x()(b.a.mark(function t(){var a;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getListUserPagination",s);case 2:(a=t.sent).ok&&(e.totalPage=a.body.total,e.userList=a.body.users),u.swal.close();case 5:case"end":return t.stop()}},t,e)})),500);case 4:case"end":return a.stop()}},a,e)}))()},getactivePage:function(t){return t==this.currentPage?"active":""},onChangeSwitch:function(t){var e,a=this,s=t[0].index,r=this.userList[s];u.warningPopup("Cảnh báo!","Bạn có muốn thay đổi trạng thái bài viết có ID là "+r.USERID+" không?",(e=x()(b.a.mark(function t(e){var s;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.value){t.next=6;break}return u.loadingPopup(),t.next=4,a.$store.dispatch("toggleStatusUser",r.USERID);case 4:s=t.sent,setTimeout(x()(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!s.ok){t.next=7;break}return t.next=3,a.fetchDataUsers(a.currentPage);case 3:t.sent,u.successPopup("Thành công!",s.body),t.next=8;break;case 7:"string"==typeof s.error?u.errorPopup("Lỗi!",s.error):u.errorPopup("Lỗi!",s.error.message);case 8:case"end":return t.stop()}},t,a)})),500);case 6:case"end":return t.stop()}},t,a)})),function(t){return e.apply(this,arguments)}))},formatDate:function(t){var e=new Date(t);return(e.getDate()<=9?"0"+e.getDate():e.getDate())+"/"+(e.getMonth()+1<=9?"0"+(e.getMonth()+1):e.getMonth()+1)+"/"+(e.getFullYear()<=9?"0"+e.getFullYear():e.getFullYear())+", "+(e.getHours()<=9?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<=9?"0"+e.getMinutes():e.getMinutes())+":"+(e.getSeconds()<=9?"0"+e.getSeconds():e.getSeconds())+"''"},handleDelete:function(t,e){var a,s=this;u.warningPopup("Cảnh báo!","Bạn có muốn xoá bài viết có ID là "+e+" không?",(a=x()(b.a.mark(function t(a){var r;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u.loadingPopup(),t.next=3,s.$store.dispatch("deletePostByPID",e);case 3:r=t.sent,setTimeout(x()(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u.swal.close(),!r.ok){t.next=8;break}return t.next=4,s.fetchDataPosts();case 4:t.sent,u.successPopup("Thành công!",r.body),t.next=9;break;case 8:"string"==typeof r.error?u.errorPopup("Lỗi!",r.error):u.errorPopup("Lỗi!",r.error.message);case 9:case"end":return t.stop()}},t,s)})),500);case 5:case"end":return t.stop()}},t,s)})),function(t){return a.apply(this,arguments)}))}},computed:n()({},Object(l.b)(["currentUser"]),{paginationPage:function(){var t=parseInt(this.totalPage,10)/this.pageSize;return Math.floor(t)===t?Math.floor(t):Math.floor(t)+1}})},dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper-dashboard"},[a("h3",{staticClass:"title"},[t._v("Quản lý thành viên")]),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered table-hover"},[t._m(0),t._v(" "),a("tbody",t._l(t.userList,function(e,s){return a("tr",{key:e.USERID},[a("td",[t._v(t._s(s+1))]),t._v(" "),a("td",[t._v(t._s(e.USERID))]),t._v(" "),a("td",[t._v(t._s(e.email))]),t._v(" "),a("td",[t._v(t._s(e.fullname))]),t._v(" "),a("td",{staticClass:"gender"},[t._v(t._s(e.gender))]),t._v(" "),a("td",{staticClass:"text-center checkbox va-middle"},[a("check-box",{attrs:{index:s,status:e.status,labelText:""},on:{onChangeSwitch:function(e){t.onChangeSwitch(e)}}})],1)])}))])]),t._v(" "),a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item"},[t.currentPage>1?a("router-link",{staticClass:"page-link",attrs:{to:{name:"manage-user",params:{currentPage:t.currentPage-1}}}},[a("i",{staticClass:"fa fa-angle-left",attrs:{"aria-hidden":"true"}})]):t._e()],1),t._v(" "),t._l(t.paginationPage,function(e,s){return a("li",{key:s,class:"page-item "+t.getactivePage(e)},[a("router-link",{staticClass:"page-link",attrs:{to:{name:"manage-user",params:{currentPage:e}}}},[t._v("\n                    "+t._s(e)+"\n                ")])],1)}),t._v(" "),a("li",{staticClass:"page-item"},[t.currentPage<t.paginationPage?a("router-link",{staticClass:"page-link",attrs:{to:{name:"manage-user",params:{currentPage:t.currentPage+1}}}},[a("i",{staticClass:"fa fa-angle-right",attrs:{"aria-hidden":"true"}})]):t._e()],1)],2)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-dark text-center"},[a("tr",[a("th",{staticStyle:{width:"30px"}},[t._v("STT")]),t._v(" "),a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("Gmail")]),t._v(" "),a("th",{staticStyle:{width:"190px"}},[t._v("Tên")]),t._v(" "),a("th",{staticStyle:{width:"100px"}},[t._v("Giới tính")]),t._v(" "),a("th",{staticStyle:{width:"110px"}},[t._v("Kích hoạt")])])])}]};var pt=a("VU/8")(lt,dt,!1,function(t){a("NQ2/")},"data-v-399427bc",null).exports,ht={name:"user-detail",components:{PostsList:D},data:function(){return{routeUserId:this.$route.params.userid,user:null,postList:[]}},watch:{$route:function(t,e){this.routeUserId=t.params.userid,this.fetchDataPosts(),this.fetchDataUser()}},created:function(){this.fetchDataPosts(),this.fetchDataUser()},methods:{fetchDataUser:function(){var t=this;return x()(b.a.mark(function e(){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.loadingPopup(),e.next=3,t.$store.dispatch("getUserByID",t.routeUserId);case 3:(a=e.sent).ok?t.user=a.body:"string"==typeof a.error?u.errorPopup("Lỗi!",a.error,function(){t.$router.push("/")}):401==a.error.response.status&&t.$store.dispatch("disableUser"),u.swal.close();case 6:case"end":return e.stop()}},e,t)}))()},fetchDataPosts:function(){var t=this;u.loadingPopup(),this.postList=[],this.$store.dispatch("getListPostByUserID",this.routeUserId).then(function(e){e.ok?t.postList=e.body:(console.log(e.error.response),401==e.error.response.status&&t.$store.dispatch("disableUser")),u.swal.close()})}},computed:n()({},Object(l.b)(["currentIDUser"]),{iscurrentUser:function(){return this.routeUserId==this.currentIDUser}})},mt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.user?a("div",{staticClass:"ass1-head-user"},[a("div",{staticClass:"ass1-head-user__content"},[a("div",{staticClass:"ass1-head-user__image"},[a("router-link",{attrs:{to:{name:"user-detail",params:{userid:t.user.USERID}}}},[a("img",{attrs:{src:t.user.profilepicture||"static/images/default-avatar.png",alt:"avatar"}})])],1),t._v(" "),a("div",{staticClass:"ass1-head-user__info"},[a("div",{staticClass:"ass1-head-user__info-head"},[a("div",{staticClass:"ass1-head-user__name"},[a("span",[t._v(t._s(t.user.fullname))]),t._v(" "),"1"==t.user.status?a("i",[a("img",{attrs:{src:"static/fonts/emotion/svg/Verified.svg",alt:"check"}})]):t._e()]),t._v(" "),a("div",{staticClass:"w-100"}),t._v(" "),t.iscurrentUser?t._e():a("a",{staticClass:"ass1-head-user__btn-follow ass1-btn",attrs:{href:"#"}},[t._v("Theo dõi")]),t._v(" "),t.iscurrentUser?a("router-link",{staticClass:"ass1-head-user__btn-follow ass1-btn",attrs:{to:"/change-password"}},[t._v("Đổi mật khẩu")]):t._e(),t._v(" "),t.iscurrentUser?a("router-link",{staticClass:"ass1-head-user__btn-follow ass1-btn",attrs:{to:"/dashboard/profile"}},[t._v("Profile")]):t._e(),t._v(" "),t.iscurrentUser?a("router-link",{staticClass:"ass1-head-user__btn-follow ass1-btn",attrs:{to:"/dashboard/posts"}},[t._v("Quản lý bài viết")]):t._e(),t._v(" "),t.iscurrentUser&&"admin"==t.user.permission?a("router-link",{staticClass:"ass1-head-user__btn-follow ass1-btn",attrs:{to:"/admin/users/page=1"}},[t._v("Quản lý thành viên")]):t._e()],1),t._v(" "),a("div",{staticClass:"ass1-head-user__info-statistic"},[a("div",{staticClass:"ass1-btn-icon"},[a("i",{staticClass:"icon-Post"}),a("span",[t._v("Bài viết: "+t._s(t.postList.length))])]),t._v(" "),t._m(0),t._v(" "),t._m(1)]),t._v(" "),t.user?a("p",[t._v(t._s(t.user.description))]):t._e()])])]):t._e(),t._v(" "),t.postList.length?a("posts-list",{attrs:{postList:t.postList}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ass1-btn-icon"},[e("i",{staticClass:"icon-Followers"}),e("span",[this._v("Theo dõi: 0")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ass1-btn-icon"},[e("i",{staticClass:"icon-Following"}),e("span",[this._v("Đang theo dõi: 0")])])}]};var vt=a("VU/8")(ht,mt,!1,function(t){a("hOtT")},null,null).exports,ft={name:"upload",data:function(){return{imageURL:"",description:"",category:[],fileUpload:{objImage:null,base64:""}}},computed:n()({},Object(l.b)(["allCategories"])),methods:{onFileSelect:function(){this.$refs.fileInputPost.click()},onFileSelected:function(t){t.preventDefault();var e=this,a=t.target.files;if(a[0].name.lastIndexOf(".")<=0)return alert("File không hợp lệ");var s=new FileReader;s.addEventListener("load",function(){e.fileUpload.base64=s.result}),s.readAsDataURL(a[0]),e.fileUpload.objImage=a[0]},resetData:function(){this.imageURL="",this.description="",this.category=[],this.fileUpload={objImage:null,base64:""}},checkImageURL:function(){return!!this.imageURL.match(/^(http(s?):)([/|.|\w|\s|-])*\.(?:jpg|gif|png)$/i)||(u.warningPopup("Cảnh báo!","Đường dẫn hình ảnh không hợp lệ"),!1)},handlePostEvent:function(t){var e=this;if(t.preventDefault(),0!=this.category.length){if(""==this.imageURL||this.checkImageURL()){u.loadingPopup();var a={url_image:this.imageURL,post_content:this.description,category:this.category,obj_image:this.fileUpload.objImage};this.$store.dispatch("createNewPost",a).then(function(t){u.swal.close(),t.ok?(e.resetData(),u.successPopup("Thành công!",t.body.message)):u.errorPopup("Lỗi!",t.error)})}}else u.warningPopup("Cảnh báo!","Vui lòng chọn ít nhất một danh mục cho bài viết")}}},gt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-8"},[a("div",{staticClass:"ass1-section ass1-section__edit-post"},[a("div",{staticClass:"ass1-section__content"},[a("form",{attrs:{action:"#"}},[a("div",{staticClass:"form-group"},[a("label",[t._v("Link ảnh từ meme")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.imageURL,expression:"imageURL",modifiers:{trim:!0}}],staticClass:"form-control ttg-border-none",attrs:{type:"text",placeholder:"https://"},domProps:{value:t.imageURL},on:{input:function(e){e.target.composing||(t.imageURL=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("Nội dung bài viết")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.description,expression:"description",modifiers:{trim:!0}}],staticClass:"form-control ttg-border-none",attrs:{rows:"5"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),a("div",{staticClass:"ass1-section__image"},[""!=t.imageURL?a("img",{key:"image external",attrs:{src:t.imageURL,alt:""}}):""!=t.fileUpload.base64?a("img",{key:"image upload",attrs:{src:t.fileUpload.base64,alt:""}}):t._e()]),t._v(" "),a("input",{ref:"fileInputPost",staticClass:"form-control",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFileSelected}}),t._v(" "),a("a",{staticClass:"ass1-btn ass1-btn-meme",attrs:{href:"https://memeful.com/",target:"_blank"}},[t._v("Chế ảnh từ meme")]),t._v(" "),""==t.imageURL?a("a",{staticClass:"ass1-btn ass1-btn-meme",attrs:{href:"javascript:void(0)"},on:{click:t.onFileSelect}},[t._v("Đăng ảnh từ máy tính")]):t._e()])])]),t._v(" "),a("div",{staticClass:"col-lg-4"},[a("aside",{staticClass:"ass1-aside ass1-aside__edit-post"},[a("div",[a("a",{staticClass:"ass1-btn",attrs:{href:"#"},on:{click:function(e){return t.handlePostEvent(e)}}},[t._v("Đăng bài")])]),t._v(" "),a("div",{staticClass:"ass1-aside__edit-post-head"},t._l(t.allCategories,function(e){return a("label",{key:e.id,staticClass:"ass1-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],attrs:{type:"checkbox",name:"category"},domProps:{value:e.id,checked:Array.isArray(t.category)?t._i(t.category,e.id)>-1:t.category},on:{change:function(a){var s=t.category,r=a.target,n=!!r.checked;if(Array.isArray(s)){var o=e.id,i=t._i(s,o);r.checked?i<0&&(t.category=s.concat([o])):i>-1&&(t.category=s.slice(0,i).concat(s.slice(i+1)))}else t.category=n}}}),t._v(" "),a("span"),t._v(" "),a("p",[t._v(t._s(e.text))])])})),t._v(" "),t._m(0),t._v(" "),t._m(1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ass1-aside__get-code"},[e("p",[this._v("Share Link")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ass1-aside__social"},[e("a",{staticClass:"ass1-btn-social__facebook ass1-btn-social",attrs:{href:""}},[e("i",{staticClass:"fa fa-facebook",attrs:{"aria-hidden":"true"}})]),this._v(" "),e("a",{staticClass:"ass1-btn-social__twitter ass1-btn-social",attrs:{href:""}},[e("i",{staticClass:"fa fa-twitter",attrs:{"aria-hidden":"true"}})]),this._v(" "),e("a",{staticClass:"ass1-btn-social__google ass1-btn-social",attrs:{href:""}},[e("i",{staticClass:"fa fa-google-plus",attrs:{"aria-hidden":"true"}})])])}]};var _t=a("VU/8")(ft,gt,!1,function(t){a("4o9C")},"data-v-66c666b7",null).exports,bt={name:"edit-post",data:function(){return{imageURL:"",description:"",category:[],fileUpload:{objImage:null,base64:""},routePostId:this.$route.params.postid,dataPost:null}},watch:{$route:function(t,e){this.routePostId=t.params.postid,this.fetchDataPost()}},created:function(){this.fetchDataPost()},computed:n()({},Object(l.b)(["allCategories","currentIDUser"])),methods:{onFileSelect:function(){this.$refs.fileInputPost.click()},onFileSelected:function(t){t.preventDefault();var e=this,a=t.target.files;if(a[0].name.lastIndexOf(".")<=0)return alert("File không hợp lệ");var s=new FileReader;s.addEventListener("load",function(){e.fileUpload.base64=s.result}),s.readAsDataURL(a[0]),e.fileUpload.objImage=a[0]},resetData:function(){this.imageURL="",this.description="",this.category=[],this.fileUpload={objImage:null,base64:""},this.dataPost=null},checkImageURL:function(){return!!this.imageURL.match(/^(http(s?):)([/|.|\w|\s|-])*\.(?:jpg|gif|png)$/i)||(u.warningPopup("Cảnh báo!","Đường dẫn hình ảnh không hợp lệ"),!1)},handlePostEvent:function(t){if(t.preventDefault(),0!=this.category.length){if(""==this.imageURL||this.checkImageURL()){var e={url_image:this.imageURL,post_content:this.description,category:this.category,obj_image:this.fileUpload.objImage,postid:this.routePostId};this.$store.dispatch("editPost",e).then(function(t){console.log(t),t.ok?u.successPopup("Thành công!",t.body.message):u.errorPopup("Lỗi!",t.error)})}}else u.warningPopup("Cảnh báo!","Vui lòng chọn ít nhất một danh mục cho bài viết")},fetchDataPost:function(){var t=this;return x()(b.a.mark(function e(){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.loadingPopup(),!t.routePostId){e.next=6;break}return e.next=4,t.$store.dispatch("getPostByPostID",t.routePostId);case 4:(a=e.sent).ok?(t.dataPost=a.body.data,t.filterCategory(),t.setDataPost(),setTimeout(function(){u.swal.close()},500)):(u.swal.close(),u.errorPopup("Lỗi!",a.error,function(){t.$router.push("/")}),401==a.error.response.status&&t.$store.dispatch("disableUser"));case 6:case"end":return e.stop()}},e,t)}))()},filterCategory:function(){this.category=this.dataPost.categories.map(function(t){return t.tag_index})},setDataPost:function(){this.description=this.dataPost.post.post_content,this.imageURL=this.dataPost.post.url_image}}},wt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-8"},[a("div",{staticClass:"ass1-section ass1-section__edit-post"},[a("div",{staticClass:"ass1-section__content"},[a("form",{attrs:{action:"#"}},[a("div",{staticClass:"form-group"},[a("label",[t._v("Link ảnh từ meme")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.imageURL,expression:"imageURL",modifiers:{trim:!0}}],staticClass:"form-control ttg-border-none",attrs:{type:"text",placeholder:"https://"},domProps:{value:t.imageURL},on:{input:function(e){e.target.composing||(t.imageURL=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("Nội dung bài viết")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.description,expression:"description",modifiers:{trim:!0}}],staticClass:"form-control ttg-border-none",attrs:{rows:"5"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),a("div",{staticClass:"ass1-section__image"},[""!=t.imageURL?a("img",{key:"image external",attrs:{src:t.imageURL,alt:""}}):""!=t.fileUpload.base64?a("img",{key:"image upload",attrs:{src:t.fileUpload.base64,alt:""}}):t._e()]),t._v(" "),a("input",{ref:"fileInputPost",staticClass:"form-control",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFileSelected}}),t._v(" "),a("a",{staticClass:"ass1-btn ass1-btn-meme",attrs:{href:"https://memeful.com/",target:"_blank"}},[t._v("Chế ảnh từ meme")]),t._v(" "),""==t.imageURL?a("a",{staticClass:"ass1-btn ass1-btn-meme",attrs:{href:"javascript:void(0)"},on:{click:t.onFileSelect}},[t._v("Đăng ảnh từ máy tính")]):t._e()])])]),t._v(" "),a("div",{staticClass:"col-lg-4"},[a("aside",{staticClass:"ass1-aside ass1-aside__edit-post"},[a("div",[a("a",{staticClass:"ass1-btn",attrs:{href:"#"},on:{click:function(e){return t.handlePostEvent(e)}}},[t._v("Cập nhật")])]),t._v(" "),a("div",{staticClass:"ass1-aside__edit-post-head"},t._l(t.allCategories,function(e){return a("label",{key:e.id,staticClass:"ass1-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],attrs:{type:"checkbox",name:"category"},domProps:{value:e.id,checked:Array.isArray(t.category)?t._i(t.category,e.id)>-1:t.category},on:{change:function(a){var s=t.category,r=a.target,n=!!r.checked;if(Array.isArray(s)){var o=e.id,i=t._i(s,o);r.checked?i<0&&(t.category=s.concat([o])):i>-1&&(t.category=s.slice(0,i).concat(s.slice(i+1)))}else t.category=n}}}),t._v(" "),a("span"),t._v(" "),a("p",[t._v(t._s(e.text))])])})),t._v(" "),t._m(0),t._v(" "),t._m(1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ass1-aside__get-code"},[e("p",[this._v("Share Link")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ass1-aside__social"},[e("a",{staticClass:"ass1-btn-social__facebook ass1-btn-social",attrs:{href:""}},[e("i",{staticClass:"fa fa-facebook",attrs:{"aria-hidden":"true"}})]),this._v(" "),e("a",{staticClass:"ass1-btn-social__twitter ass1-btn-social",attrs:{href:""}},[e("i",{staticClass:"fa fa-twitter",attrs:{"aria-hidden":"true"}})]),this._v(" "),e("a",{staticClass:"ass1-btn-social__google ass1-btn-social",attrs:{href:""}},[e("i",{staticClass:"fa fa-google-plus",attrs:{"aria-hidden":"true"}})])])}]};var kt=a("VU/8")(bt,wt,!1,function(t){a("EANg")},"data-v-689ab2d0",null).exports,Ct={name:"categories",components:{PostsList:D},data:function(){return{tagIndex:this.$route.params.id,author:null,recentPost:[],postList:[],currentPage:0,pageSize:3,loading:!1}},watch:{$route:function(t,e){this.tagIndex=t.params.id,this.fetchRecentPost()}},created:function(){this.fetchPostByCategory(),this.fetchRecentPost()},computed:n()({},Object(l.b)(["isAuthenticated"]),{dateFormat:function(){if(this.dataPost){var t=new Date(this.dataPost.post.time_added);return t=new Date(t).getTime(),this.setTimeAgo(t)}return null},classLoader:function(){return{loading:this.loading}}}),methods:{loadNextPage:function(){this.fetchPostByCategory()},fetchPostByCategory:function(){var t=this;return x()(b.a.mark(function e(){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.loading=!0,setTimeout(x()(b.a.mark(function e(){var a,s,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.currentPage=t.currentPage+1,a={currentPage:t.currentPage,pageSize:t.pageSize,tagIndex:t.tagIndex},e.next=4,t.$store.dispatch("getListPostByCategories",a);case 4:s=e.sent,console.log(s),s.ok?(r=[].concat(k()(t.postList),k()(s.body)),t.postList=r,t.loading=!1):t.loading=!1;case 7:case"end":return e.stop()}},e,t)})),500);case 2:case"end":return e.stop()}},e,t)}))()},fetchRecentPost:function(){var t=this;return x()(b.a.mark(function e(){var a,s;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={currentPage:1,pageSize:3},t.recentPost=[],e.next=4,t.$store.dispatch("getListPostPagination",a);case 4:(s=e.sent).ok&&(t.recentPost=s.body);case 6:case"end":return e.stop()}},e,t)}))()},setTimeAgo:function(t){var e=new Date;e=new Date(e),this.timeAgo=e.getTime();var a=(this.timeAgo-t)/1e3,s="";if(a>=0&&a<1)return"Vừa xong";if(a<=60){var r=" giây ";s=Math.floor(a).toString()+r+"trước"}else if(a<=3600){r=" phút ";s=Math.floor(a/60).toString()+r+"trước"}else if(a<=86400){r=" giờ ";s=Math.floor(a/3600).toString()+r+"trước"}else{r=" ngày ";s=Math.floor(a/86400).toString()+r+"trước"}return s}}},xt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-8"},[0!=t.postList.length?a("div",[a("posts-list",{attrs:{styleComp:!1,postList:t.postList}}),t._v(" "),a("button",{staticClass:"load-more ass1-btn",class:t.classLoader,on:{click:t.loadNextPage}},[a("span",[t._v("Xem thêm")]),t._v(" "),a("img",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],attrs:{src:"/static/loader.gif",alt:"loader"}})])],1):t._e(),t._v(" "),0==t.postList.length?a("div",[a("div",{staticClass:"ass1-content-head__text"},[a("div",[t._v("Không tìm thấy bài viết nào thuộc danh mục này\n                        "),a("router-link",{attrs:{to:"/"}},[t._v("Quay lại trang chủ")])],1)])]):t._e()]),t._v(" "),a("div",{staticClass:"col-lg-4"},[a("posts-list",{attrs:{styleComp:!1,postList:t.recentPost}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ass1-content-head ass1-content-head__flex-off"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-8"}),this._v(" "),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"ass1-content-head__right-col"},[e("div",{staticClass:"ass1-content-head__text"},[e("div",[this._v("Bài Post gần đây")])])])])])])}]};var Pt=a("VU/8")(Ct,xt,!1,function(t){a("yL9B")},"data-v-73e6ff7f",null).exports,yt=a("mtWM"),Ut=a.n(yt).a.create({baseURL:"https://dry-mountain-35730.herokuapp.com/api/",headers:{Authorization:"Bearer "}}),Lt={increment:function(t){(0,t.commit)("increment")},disableUser:function(t){var e=this,a=t.commit;return x()(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a("disableUser");case 1:case"end":return t.stop()}},t,e)}))()},logout:function(t){var e=this,a=t.commit;return x()(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a("disableUser");case 1:case"end":return t.stop()}},t,e)}))()},login:function(t,e){var a=this,s=t.commit;return x()(b.a.mark(function t(){var r;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ut.post("member/login.php",e);case 3:if(200!=(r=t.sent).data.status){t.next=11;break}return r.data.user.password="",s("updateAccessToken",r.data.token),s("updateCurrUser",r.data.user),t.abrupt("return",{ok:!0,user:r.data.user});case 11:return t.abrupt("return",{ok:!1,error:r.data.error});case 12:t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",{ok:!1,error:t.t0});case 17:case"end":return t.stop()}},t,a,[[0,14]])}))()},register:function(t,e){var a=this,s=t.commit;return x()(b.a.mark(function t(){var r;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ut.post("member/register.php",e);case 3:if(200!=(r=t.sent).data.code){t.next=11;break}return r.data.user.password="",s("updateAccessToken",r.data.token),s("updateCurrUser",r.data.user),t.abrupt("return",{ok:!0,user:r.data.user});case 11:return t.abrupt("return",{ok:!1,error:r.data.error});case 12:t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(0),t.abrupt("return",{ok:!1,error:t.t0});case 17:case"end":return t.stop()}},t,a,[[0,14]])}))()},getUserByID:function(t,e){var a=this,s=(t.commit,t.state);return x()(b.a.mark(function t(){var r,n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={headers:{Authorization:"Bearer "+s.access_token}},t.next=4,Ut.get("member/member.php?userid="+e,r);case 4:if(200!=(n=t.sent).data.status){t.next=7;break}return t.abrupt("return",{ok:!0,body:n.data.user});case 7:return t.abrupt("return",{ok:!1,error:n.data.error});case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",{ok:!1,error:t.t0});case 13:case"end":return t.stop()}},t,a,[[0,10]])}))()},updateInfoUser:function(t,e){var a=this,s=t.commit,r=t.state,n=e.user,o=e.objImage;return x()(b.a.mark(function t(){var e,i,c;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e={headers:{Authorization:"Bearer "+r.access_token,"Content-Type":"multipart/form-data",accept:"multipart/form-data"}},i=new FormData,o&&i.append("avatar",o),i.append("fullname",n.fullname),i.append("description",n.description),i.append("gender",n.gender),t.next=9,Ut.post("member/update.php",i,e);case 9:if(200!=(c=t.sent).data.status){t.next=15;break}return s("updateCurrUser",c.data.user),t.abrupt("return",{ok:!0,user:c.data.user});case 15:return t.abrupt("return",{ok:!1,error:c.data.error});case 16:t.next=21;break;case 18:return t.prev=18,t.t0=t.catch(0),t.abrupt("return",{ok:!1,error:t.t0.response.data.error});case 21:case"end":return t.stop()}},t,a,[[0,18]])}))()},changePassword:function(t,e){var a=this,s=t.commit,r=t.state;return x()(b.a.mark(function t(){var n,o;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={headers:{Authorization:"Bearer "+r.access_token}},t.next=4,Ut.post("member/password.php",e,n);case 4:if(200!=(o=t.sent).data.status){t.next=9;break}return t.abrupt("return",{ok:!0,body:o.data});case 9:return t.abrupt("return",{ok:!1,error:o.data.error});case 10:t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(0),401==t.t0.response.status&&s("disableUser"),t.abrupt("return",{ok:!1,error:t.t0.response.data.error});case 16:case"end":return t.stop()}},t,a,[[0,12]])}))()},createNewPost:function(t,e){var a=this,s=(t.commit,t.state);return x()(b.a.mark(function t(){var r,n,o;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={headers:{Authorization:"Bearer "+s.access_token,"Content-Type":"multipart/form-data",accept:"multipart/form-data"}},n=new FormData,e.obj_image&&n.append("obj_image",e.obj_image),n.append("url_image",e.url_image),n.append("post_content",e.post_content),n.append("category",e.category),t.next=9,Ut.post("post/addNew.php",n,r);case 9:if(200!=(o=t.sent).data.status){t.next=12;break}return t.abrupt("return",{ok:!0,body:o.data});case 12:return t.abrupt("return",{ok:!1,error:o.data.error});case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",{ok:!1,error:t.t0.response.data.error});case 18:case"end":return t.stop()}},t,a,[[0,15]])}))()},getListPostByUserID:function(t,e){var a=this,s=(t.commit,t.state);return x()(b.a.mark(function t(){var r,n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={headers:{Authorization:"Bearer "+s.access_token}},t.next=4,Ut.get("post/getListPostUserID.php?userid="+e,r);case 4:if(200!=(n=t.sent).data.status){t.next=7;break}return t.abrupt("return",{ok:!0,body:n.data.posts});case 7:return t.abrupt("return",{ok:!1,error:n.data.error});case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",{ok:!1,error:t.t0});case 13:case"end":return t.stop()}},t,a,[[0,10]])}))()},getPostByPostID:function(t,e){var a=this,s=(t.commit,t.state);return x()(b.a.mark(function t(){var r,n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={headers:{Authorization:"Bearer "+s.access_token}},t.next=4,Ut.get("post/post.php?postid="+e,r);case 4:if(200!=(n=t.sent).data.status){t.next=7;break}return t.abrupt("return",{ok:!0,body:n.data});case 7:return t.abrupt("return",{ok:!1,error:n.data.error});case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",{ok:!1,error:t.t0});case 13:case"end":return t.stop()}},t,a,[[0,10]])}))()},postComment:function(t,e){var a=this,s=(t.commit,t.state);return x()(b.a.mark(function t(){var r,n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={headers:{Authorization:"Bearer "+s.access_token}},t.next=4,Ut.post("comment/add_new.php",e,r);case 4:if(200!=(n=t.sent).data.status){t.next=9;break}return t.abrupt("return",{ok:!0,body:n.data.message});case 9:return t.abrupt("return",{ok:!1,error:n.data.error});case 10:t.next=15;break;case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",{ok:!1,error:t.t0});case 15:case"end":return t.stop()}},t,a,[[0,12]])}))()},getCommentPost:function(t,e){var a=this;t.commit,t.state;return x()(b.a.mark(function t(){var s;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ut.get("comment/comments.php?postid="+e);case 3:if(200!=(s=t.sent).data.status){t.next=8;break}return t.abrupt("return",{ok:!0,body:s.data.comments});case 8:return t.abrupt("return",{ok:!1,error:s.data.error});case 9:t.next=14;break;case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{ok:!1,error:t.t0});case 14:case"end":return t.stop()}},t,a,[[0,11]])}))()},deletePostByPID:function(t,e){var a=this,s=(t.commit,t.state);return x()(b.a.mark(function t(){var r,n,o;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={headers:{Authorization:"Bearer "+s.access_token}},n={postid:e},t.next=5,Ut.post("post/delete.php",n,r);case 5:if(200!=(o=t.sent).data.status){t.next=8;break}return t.abrupt("return",{ok:!0,body:o.data.message});case 8:return t.abrupt("return",{ok:!1,error:o.data.error});case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{ok:!1,error:t.t0});case 14:case"end":return t.stop()}},t,a,[[0,11]])}))()},toggleStatusPost:function(t,e){var a=this,s=(t.commit,t.state);return x()(b.a.mark(function t(){var r,n,o;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={headers:{Authorization:"Bearer "+s.access_token}},n={postid:e},t.next=5,Ut.post("post/activeDeactive.php",n,r);case 5:if(200!=(o=t.sent).data.status){t.next=8;break}return t.abrupt("return",{ok:!0,body:o.data.message});case 8:return t.abrupt("return",{ok:!1,error:o.data.error});case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{ok:!1,error:t.t0});case 14:case"end":return t.stop()}},t,a,[[0,11]])}))()},searchPost:function(t,e){var a=this;t.commit;return x()(b.a.mark(function t(){var s;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ut.get("post/search.php?query="+e);case 3:if(200!=(s=t.sent).data.status){t.next=6;break}return t.abrupt("return",{ok:!0,body:s.data.posts});case 6:return t.abrupt("return",{ok:!1,error:s.data.error});case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",{ok:!1,error:t.t0});case 12:case"end":return t.stop()}},t,a,[[0,9]])}))()},getListPostPagination:function(t,e){var a=this;t.commit;return x()(b.a.mark(function t(){var s,r;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s="post/getListPagination.php?pagesize="+e.pageSize+"&currPage="+e.currentPage,t.next=4,Ut.get(s);case 4:if(200!=(r=t.sent).data.status){t.next=7;break}return t.abrupt("return",{ok:!0,body:r.data.posts});case 7:return t.abrupt("return",{ok:!1,error:r.data.error});case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",{ok:!1,error:t.t0});case 13:case"end":return t.stop()}},t,a,[[0,10]])}))()},getListUserPagination:function(t,e){var a=this,s=(t.commit,t.state);return x()(b.a.mark(function t(){var r,n,o;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={headers:{Authorization:"Bearer "+s.access_token}},n="member/getListPaging.php?pagesize="+e.pageSize+"&currPage="+e.currentPage,t.next=5,Ut.get(n,r);case 5:if(200!=(o=t.sent).data.status){t.next=8;break}return t.abrupt("return",{ok:!0,body:o.data.body});case 8:return t.abrupt("return",{ok:!1,error:o.data.error});case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{ok:!1,error:t.t0});case 14:case"end":return t.stop()}},t,a,[[0,11]])}))()},checkAdmin:function(t){var e=this,a=(t.commit,t.state);return x()(b.a.mark(function t(){var s;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s={headers:{Authorization:"Bearer "+a.access_token}},t.next=4,Ut.post("member/checkadmin.php",{},s);case 4:if(200!=t.sent.data.status){t.next=7;break}return t.abrupt("return",{ok:!0});case 7:return t.abrupt("return",{ok:!1});case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",{ok:!1,error:t.t0});case 13:case"end":return t.stop()}},t,e,[[0,10]])}))()},editPost:function(t,e){var a=this,s=(t.commit,t.state);return x()(b.a.mark(function t(){var r,n,o;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={headers:{Authorization:"Bearer "+s.access_token,"Content-Type":"multipart/form-data",accept:"multipart/form-data"}},n=new FormData,e.obj_image&&n.append("obj_image",e.obj_image),n.append("url_image",e.url_image),n.append("post_content",e.post_content),n.append("category",e.category),n.append("postid",e.postid),t.next=10,Ut.post("post/edit.php",n,r);case 10:if(200!=(o=t.sent).data.status){t.next=13;break}return t.abrupt("return",{ok:!0,body:o.data});case 13:return t.abrupt("return",{ok:!1,error:o.data.error});case 16:return t.prev=16,t.t0=t.catch(0),t.abrupt("return",{ok:!1,error:t.t0.response.data.error});case 19:case"end":return t.stop()}},t,a,[[0,16]])}))()},toggleStatusUser:function(t,e){var a=this,s=(t.commit,t.state);return x()(b.a.mark(function t(){var r,n,o;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={headers:{Authorization:"Bearer "+s.access_token}},n={userid:e},t.next=5,Ut.post("member/activeDeactive.php",n,r);case 5:if(200!=(o=t.sent).data.status){t.next=8;break}return t.abrupt("return",{ok:!0,body:o.data.message});case 8:return t.abrupt("return",{ok:!1,error:o.data.error});case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{ok:!1,error:t.t0});case 14:case"end":return t.stop()}},t,a,[[0,11]])}))()},getListPostByCategories:function(t,e){var a=this;t.commit;return x()(b.a.mark(function t(){var s,r,n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s="pagesize="+e.pageSize+"&currPage="+e.currentPage+"&tagIndex="+e.tagIndex,r="post/getListByCategory.php?"+s,t.next=5,Ut.get(r);case 5:if(200!=(n=t.sent).data.status){t.next=8;break}return t.abrupt("return",{ok:!0,body:n.data.posts});case 8:return t.abrupt("return",{ok:!1,error:n.data.error});case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{ok:!1,error:t.t0});case 14:case"end":return t.stop()}},t,a,[[0,11]])}))()}},Dt=a("424j");s.a.use(l.a);var $t=new l.a.Store({state:{access_token:null,current_user:null,category:[{text:"Ảnh troll",id:1},{text:"Cách gặp ma",id:2},{text:"Clip funvl",id:3},{text:"Xác ướp",id:4},{text:"Ảo tưởng sức mạnh",id:5},{text:"Running man",id:6},{text:"Ảnh bựa VL",id:7},{text:"Faptv",id:8},{text:"500 anh em",id:9},{text:"Ancient aliens",id:10},{text:"Video cảm động",id:11},{text:"Siêu nhân",id:12},{text:"Video kinh dị",id:13},{text:"Thánh cuồng",id:14},{text:"Comment hài",id:15},{text:"Nhạc Remix hay",id:16},{text:"Ảnh ấn tượng",id:17},{text:"Pháo hoa Tết",id:18},{text:"Ji Suk Jin",id:19},{text:"Cao Bá Hưng",id:20},{text:"Hài Quang Thắng",id:21},{text:"Xăm trổ",id:22},{text:"Chuyện tình lãng mạn",id:23},{text:"Giang hồ",id:24}]},mutations:{disableUser:function(t){t.access_token=null,t.current_user=null},updateAccessToken:function(t,e){t.access_token=e},updateCurrUser:function(t,e){t.current_user=e}},actions:Lt,getters:{accessToken:function(t){return t.access_token},isAuthenticated:function(t){return!!t.access_token},currentUser:function(t){return t.current_user},currentIDUser:function(t){return t.current_user?t.current_user.USERID:null},allCategories:function(t){return t.category}},plugins:[Object(Dt.a)({key:"assignment2-ltw"})]}),St=function(t,e,a){$t.getters.isAuthenticated?a():a("/")},It=function(t,e,a){$t.getters.isAuthenticated?a("/"):a()};s.a.use(g.a);var Rt=new g.a({routes:[{path:"/",name:"home-page",component:A},{path:"/login",name:"login",component:j,beforeEnter:It},{path:"/register",name:"register",component:V,beforeEnter:It},{path:"/change-password",name:"change-password",component:X,beforeEnter:St},{path:"/post-detail/:id",name:"post-detail",component:tt},{path:"/categories/:text/:id",name:"categories",component:Pt},{path:"/dashboard/profile",name:"edit-profile",component:st,beforeEnter:St},{path:"/dashboard/posts",name:"manage-post",component:ut,beforeEnter:St},{path:"/dashboard/edit-post/:postid",name:"edit-post",component:kt,beforeEnter:St},{path:"/admin/users/page=:currentPage",name:"manage-user",component:pt,beforeEnter:St},{path:"/user-detail/:userid",name:"user-detail",component:vt,beforeEnter:St},{path:"/upload",name:"upload",component:_t,beforeEnter:St},{path:"/search/:query",name:"search-post",component:N}]}),Tt=a("w/U7");s.a.config.productionTip=!1,s.a.use(Tt.a),new s.a({el:"#app",router:Rt,store:$t,components:{App:f},template:"<App/>"})},"NQ2/":function(t,e){},"Pg/3":function(t,e){},b7aU:function(t,e){},hOtT:function(t,e){},hszl:function(t,e){},ip3W:function(t,e){},mUUq:function(t,e){},nd5D:function(t,e){},yL9B:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.22121d245d74c8d99bf2.js.map