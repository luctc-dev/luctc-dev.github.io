{"version":3,"sources":["App.styled.js","ErrorBoundary.js","App.js","reportWebVitals.js","index.js"],"names":["StyledApp","styled","div","_templateObject","_taggedTemplateLiteral","StyledHead","_templateObject2","StyledBuilderWrap","_templateObject3","StyledPreviewIframe","_templateObject4","ErrorBoundary","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","hasError","_createClass","key","value","error","info","console","log","this","fallback","children","React","Component","MobileBackground","_jsxs","width","height","viewBox","_jsx","id","stroke","strokeWidth","fill","fillRule","transform","x","y","rx","cx","cy","r","d","templateConfig","templateLocale","listVariables","label","formatVariable","concat","App","ref","useRef","getData","_useState","useState","_useState2","_slicedToArray","isShow","setIsShow","_useState3","_useState4","htmlTemplate","setHtmlTemplate","_useState5","_useState6","isMobile","setIsMobile","useEffect","onCopilot","_ref","currentEditor","alert","setFileHandler","resolve","reject","inputFile","document","createElement","type","accept","addEventListener","event","target","file","files","startsWith","url","URL","createObjectURL","context","click","setFetchArticle","Promise","setTimeout","title","thumbnail","description","authorName","authorAvatar","setFetchProduct","priceFinal","priceRegular","discountPercent","buttonText","Button","onClick","builderData","current","srcDoc","templateBuilderToHTML","TemplateBuilder","localStorageKey","templateType","Drawer","placement","onClose","visible","extra","Space","undefined","icon","MobileOutlined","download","Date","now","ArrowDownOutlined","className","style","frameBorder","replace","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","container","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.5b02db10.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nexport const StyledApp = styled.div`\n  padding-top: 20px;\n  min-width: 1200px;\n  background-color: #f6f6f6;\n`\n\nexport const StyledHead = styled.div`\n  padding-left: 20px;\n`\n\nexport const StyledBuilderWrap = styled.div`\n  height: calc(100vh - 55px);\n  margin: 2px;\n`\n\nexport const StyledPreviewIframe = styled.div`\n  position: relative;\n\n  iframe {\n    margin: 0 auto;\n    display: block;\n    position: relative;\n    z-index: 1;\n    top: 0;\n    left: 0px;\n  }\n  svg {\n    position: absolute;\n    left: 50%;\n    top: 0;\n    transform: translate(-50%, 0);\n  }\n\n  &.mobile-view {\n    padding-top: 60px;\n    iframe {\n      border: 1px solid #c3c3c3;\n    }\n  }\n`;","import React from 'react'\n\nexport default class ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, info) {\n    // Example \"componentStack\":\n    //   in ComponentThatThrows (created by App)\n    //   in ErrorBoundary (created by App)\n    //   in div (created by App)\n    //   in App\n    console.log(error)\n    console.log(info)\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return this.props.fallback;\n    }\n\n    return this.props.children;\n  }\n}","import 'antd/dist/antd.css'\nimport '@luctc/template-builder/dist/index.css';\nimport 'codemirror/lib/codemirror.css'\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Button, Drawer, Space } from 'antd';\nimport { ArrowDownOutlined, MobileOutlined } from '@ant-design/icons';\nimport { TemplateBuilder, templateBuilderToHTML, download, templateConfig } from '@luctc/template-builder';\nimport { StyledApp, StyledHead, StyledBuilderWrap, StyledPreviewIframe } from './App.styled';\nimport ErrorBoundary from './ErrorBoundary'\n\ntemplateConfig.templateLocale = 'vi-VN';\n    templateConfig.listVariables = [\n      { key: 'email', label: 'Email' }\n    ]\ntemplateConfig.formatVariable = (key) => `{{var:${key}}}`\n\nfunction App() {\n  const ref = useRef({\n    getData: () => {},\n  });\n  const [isShow, setIsShow] = useState(false);\n  const [htmlTemplate, setHtmlTemplate] = useState('');\n  const [isMobile, setIsMobile] = useState(false);\n\n  useEffect(() => {\n    templateConfig.onCopilot(({ key, currentEditor }) => {\n      alert(key)\n    });\n  }, []);\n\n  useEffect(() => {\n    templateConfig.setFileHandler((resolve, reject) => {\n      // alert('Handle upload from external app');\n      const inputFile = document.createElement('input');\n      inputFile.type = 'file';\n      inputFile.accept = 'image/png, image/gif, image/jpeg';\n      inputFile.addEventListener('change', handleFileUpload);\n\n      function handleFileUpload(event) {\n        const target = event.target;\n        const file = (target.files && target.files[0]) || null;\n\n        if (file && file.type.startsWith('image/')) {\n          resolve({\n            url: URL.createObjectURL(file),\n            context: '',\n          });\n        }\n      }\n\n      inputFile.click();\n    });\n  }, []);\n\n  useEffect(() => {\n    templateConfig.setFetchArticle(() => {\n      return new Promise((resolve) => {\n        setTimeout(() => {\n          // resolve(null);\n          resolve({\n            url: 'https://example.com',\n            title: 'Đau hạ sườn trái là bệnh gì? Không chỉ là vấn đề tiêu hóa',\n            thumbnail: 'https://picsum.photos/300',\n            description:\n              'Đau hạ sườn trái là cơn đau chủ yếu ở góc nửa phía dưới bên trái của bụng. Khu vực vùng bụng bên trái có thể mềm khi chạm vào kèm theo cơn đau dữ dội và khiến toàn bộ vùng bụng bị căng cứng. Nguyên nhân gây đau chủ yếu liên quan đến đường tiêu hóa, nhưng cũng có thể liên quan đến các cơ quan khác, chẳng hạn như da, mạch máu, đường tiết niệu hoặc cơ quan sinh sản ở phụ nữ và nam giới.',\n            authorName: 'Trúc Phạm',\n            authorAvatar: 'https://picsum.photos/150/150',\n          });\n        }, 500);\n      });\n    });\n  }, []);\n\n  useEffect(() => {\n    templateConfig.setFetchProduct(() => {\n      return new Promise((resolve) => {\n        setTimeout(() => {\n          resolve({\n            url: 'https://example.com',\n            title: \"Viên Uống Mọc Tóc Puritan's Pride Biotin 10000 mcg - 100 viên\",\n            thumbnail: 'https://picsum.photos/400',\n            priceFinal: 505000,\n            priceRegular: 600000,\n            discountPercent: 16,\n            buttonText: 'Mua Ngay',\n          });\n        }, 500);\n      });\n    });\n  }, []);\n  \n  return (\n    <StyledApp>\n      <StyledHead>\n        <Button\n          type=\"primary\"\n          onClick={() => {\n            const builderData = ref.current.getData();\n            const srcDoc = templateBuilderToHTML(builderData);\n            setHtmlTemplate(srcDoc);\n            setIsShow(true);\n          }}\n        >\n          Preview\n        </Button>\n      </StyledHead>\n      <StyledBuilderWrap>\n        <ErrorBoundary>\n          <TemplateBuilder localStorageKey=\"builderData\" ref={ref} templateType=\"email\" />\n        </ErrorBoundary>\n      </StyledBuilderWrap>\n      <Drawer\n        title=\"Preview\" //\n        placement=\"right\"\n        width=\"80vw\"\n        onClose={() => setIsShow(false)}\n        visible={isShow}\n        extra={\n          <Space>\n            <Button\n              type={isMobile ? 'primary' : undefined} //\n              icon={<MobileOutlined />}\n              onClick={() => setIsMobile(!isMobile)}\n            >\n              Mobile\n            </Button>\n            <Button\n              onClick={() => {\n                download(`EmailTemplate_untitled_${Date.now()}.html`, htmlTemplate);\n              }}\n              icon={<ArrowDownOutlined />}\n            ></Button>\n          </Space>\n        }\n      >\n        {isShow && htmlTemplate && (\n          <StyledPreviewIframe className={isMobile ? 'mobile-view' : ''}>\n            {isMobile && <MobileBackground />}\n            <iframe\n              title=\"Preview\" //\n              style={{\n                width: isMobile ? '320px' : '100%', //\n                height: isMobile ? '480px' : 'calc(100vh - 120px)',\n              }}\n              frameBorder=\"0\"\n              srcDoc={htmlTemplate.replace(\n                '<style>',\n                `<style>\n                  body {\n                    overflow: overlay;\n                  }\n                  body::-webkit-scrollbar {\n                    width: 6px;\n                  }\n                  \n                  body::-webkit-scrollbar-track {\n                    background-color: transparent;\n                  }\n                  \n                  body::-webkit-scrollbar-thumb {\n                    border-radius: 6px;\n                    background-color: rgba(0, 0, 0, 0.4);\n                  }`,\n              )}\n            />\n          </StyledPreviewIframe>\n        )}\n      </Drawer>\n    </StyledApp>\n  );\n}\n\nfunction MobileBackground() {\n  return (\n    <svg width=\"342px\" height=\"612px\" viewBox=\"0 0 342 612\">\n      <defs />\n      <g id=\"Page-1\" stroke=\"none\" strokeWidth={1} fill=\"none\" fillRule=\"evenodd\">\n        <g id=\"Artboard-1\" transform=\"translate(-469.000000, -144.000000)\">\n          <g id=\"Rectangle-22-+-Oval-4-+-Rectangle-23-+-Oval-5\" transform=\"translate(470.000000, 145.000000)\">\n            <rect id=\"Rectangle-22\" stroke=\"#979797\" fill=\"#FFFFFF\" x={0} y={0} width={340} height={610} rx={33} />\n            <circle id=\"Oval-4\" stroke=\"#C4C4C4\" fill=\"#FBFBFB\" cx={170} cy={577} r={25} />\n            <g id=\"Rectangle-23-+-Oval-5\" transform=\"translate(126.000000, 27.000000)\">\n              <circle id=\"Oval-5\" stroke=\"#C4C4C4\" fill=\"#FBFBFB\" cx=\"4.5\" cy=\"4.5\" r=\"4.5\" />\n              <path\n                d=\"M23.5032382,0 L64.4967618,0 C66.9838316,0 69,2.01977567 69,4.5 C69,6.98528137 66.9780138,9 64.4967618,9 L23.5032382,9 C21.0161684,9 19,6.98022433 19,4.5 C19,2.01471863 21.0219862,0 23.5032382,0 Z M23.5032382,2 L64.4967618,2 C65.8774903,2 67,3.12257327 67,4.5 C67,5.87798373 65.8761743,7 64.4967618,7 L23.5032382,7 C22.1225097,7 21,5.87742673 21,4.5 C21,3.12201627 22.1238257,2 23.5032382,2 Z\"\n                id=\"Rectangle-23\"\n                fill=\"#C4C4C4\"\n              />\n              <path\n                d=\"M22.6120746,1 L65.3879254,1 C66.8286855,1 68,2.57160257 68,4.5 C68,6.42917723 66.8273124,8 65.3879254,8 L22.6120746,8 C21.1713145,8 20,6.42839743 20,4.5 C20,2.57082277 21.1726876,1 22.6120746,1 Z\"\n                id=\"Path\"\n                fill=\"#FBFBFB\"\n              />\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst container = document.getElementById('root');\nrender(<React.StrictMode><App /></React.StrictMode>, container);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}